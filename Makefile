FLAGS=cc -Werror -Wextra -Wall -g

NAME = pipex
BONUS_NAME = pipex_bonus

OBJ_P = obj/

SRC_PATH = srcs/
BSRC_PATH = srcs_bonus/

SRC = main.c mario_tools.c get_next_line_utils_bonus.c \
	  get_next_line_bonus.c more_tools.c split.c handle_pps.c \

BSRC = main_bonus.c mario_tools_bonus.c get_next_line_utils_bonus.c \
	   get_next_line_bonus.c utils_bonus.c split_bonus.c handle_pps_bonus.c \

INCS	= -I ./includes/
SRCS	= $(addprefix $(SRC_PATH), $(SRC))
SOBJ	= $(addprefix $(OBJ_P), $(SRC:.c=.o))
BSRCS	= $(addprefix $(BSRC_PATH), $(BSRC))
BOBJ	= $(addprefix $(OBJ_P), $(BSRC:.c=.o))

all: $(OBJ_P) $(NAME)

$(NAME): $(SOBJ) 
	$(FLAGS) $(SOBJ) -o $(NAME) $(INCS) -g
	@printf $(MAKE_LOGO)

bonus : $(OBJ_P) $(BONUS_NAME)

$(BONUS_NAME): $(BOBJ)
	$(FLAGS) $(BOBJ) -o $(BONUS_NAME) $(INCS) -g
	@printf $(MAKE_LOGO)

$(OBJ_P):
	mkdir -p $(OBJ_P)

MAKE_LOGO="\n \033[0;33m⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣀⣀⣤⣤⣤⣤⣀⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n \
 \033[0;90m⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣴⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣦⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n \
 \033[0;91m⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣴⣾⣿⣿⠿⠟⠋⠉⠉⢀⣀⣀⣈⡉⠻⣿⣿⣦⠀⠀⠀⠀⠀⠀⣠⣶⣶⣶⣦⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n \
 \033[0;92m⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣴⣿⣿⠟⠋⠀⠀⠀⠀⣴⢞⣏⠉⢈⣿⡙⢦⡈⢿⣿⣧⡀⠀⣀⣠⣾⣿⡿⠿⠿⣿⣿⣷⣶⣤⣀⠀⠀⠀⠀⠀⠀\n \
 \033[0;93m⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣴⣿⡿⠋⠁⠀⠀⠀⠀⠀⣼⠁⢸⠋⠳⡞⠀⢳⡀⠙⣎⣿⣿⣧⣾⣿⣿⣿⠿⢿⣶⣄⠈⠻⠿⠿⣿⣿⣿⣶⡄⠀⠀⠀\n \
 \033[0;94m⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣰⣿⣿⠟⠀⠀⠀⠀⠀⠀⠀⠀⡇⠀⣿⠀⣦⣀⡿⣄⠙⣄⢹⣘⣿⣿⣿⣿⣯⣤⣤⣄⣙⢿⣷⡄⠀⠀⠈⠙⢿⣿⣿⡆⠀⠀\n \
 \033[0;95m⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣴⣿⡿⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⢷⡀⢿⣤⣇⣹⣤⣿⣾⡿⠿⠛⠛⠛⠉⠉⠉⠙⠛⠛⠻⣿⣿⡇⠀⠀⠀⠀⠀⢻⣿⣿⠀⠀\n \
 \033[0;96m⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣾⣿⡿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢈⣷⣴⣾⡿⠟⠛⠉⠀⠀⠀⠀⠀⢀⣠⣤⣴⣶⣿⣿⣿⣶⣿⣿⠀⠀⠀⠀⠀⢸⣿⣿⠀⠀\n \
 \033[0;97m⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣾⣿⡿⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣤⣶⠿⠛⠋⠀⠀⠀⠀⠀⠀⢀⣠⣴⣾⣿⣿⣿⣿⣿⣿⣿⣿⡿⠛⠻⠿⠷⠾⠛⢁⣾⣿⣿⠀⠀\n \
 \033[0;96m⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣾⣿⣿⠁⠀⠀⠀⠀⠀⠀⠀⣠⣴⡿⠛⠀⠀⠀⠀⠀⠀⠀⣀⣴⣾⠿⠋⠁⠙⢿⣿⣿⣿⡿⠿⠛⠁⠀⠀⠀⠀⠀⠀⢀⣼⣿⣿⡇⠀⠀\n \
 \033[0;95m⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣼⣿⣿⠇⠀⠀⠀⠀⠀⠀⣠⣾⠟⠃⠀⠀⠀⠀⠀⠀⣠⣴⡿⠟⠋⠀⠀⢰⣿⣷⡈⣿⣿⠀⠀⠀⠀⠀⢀⡀⠀⠀⠀⣠⣾⣿⣿⠟⠀⠀⠀\n \
 \033[0;94m⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⣴⣿⣿⣿⡏⠀⠀⠀⠀⠀⣠⣾⣿⠋⠀⠀⠀⣀⣤⣤⣾⠟⣿⣷⣄⠀⠀⠀⠀⢸⣿⣿⣷⣼⣿⣿⣿⣿⣷⣶⣄⡉⠛⠒⢋⣿⣿⣿⠋⠀⠀⠀⠀\n \
 \033[0;93m⠀⠀⠀⠀⠀⠀⠀⢠⣾⣿⣿⡿⠛⢹⠇⠀⠀⠀⠀⣴⣿⣿⣷⠶⠾⠿⠟⠛⠋⠁⠀⠀⣿⣿⣿⡀⠀⠀⠀⠀⢻⣿⠛⠋⠉⠁⠀⠉⠛⢿⣿⣿⣦⣴⣿⣿⣿⠏⠀⠀⠀⠀⠀\n \
 \033[0;92m⠀⠀⠀⠀⠀⠀⢰⣿⣿⣿⠏⠀⠀⠈⠀⠀⠀⢀⣾⣿⠟⠘⣿⣆⠀⠀⠀⠀⠀⠀⠀⠀⢻⣿⣿⡇⠀⠀⠀⣴⠛⠀⠀⠀⠀⠀⠀⠀⠀⠈⢻⣿⣿⣿⣿⡿⠋⠀⠀⠀⠀⠀⠀\n \
 \033[0;91m⠀⠀⠀⠀⠀⠀⢿⣿⣿⡇⠀⠀⠀⣠⣤⣤⣤⣾⣿⡇⠀⠀⠙⣿⣦⣄⠀⠀⠀⠀⠀⠀⠈⠻⠿⠀⠀⠀⠘⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⣿⡏⠀⠀⠀⠀⠀⠀⠀⠀⠀\n \
 \033[0;90m⠀⠀⠀⠀⠀⠀⠸⣿⣿⡇⢀⣴⣿⠟⠛⠉⠉⠉⢿⣿⣆⠀⠀⠈⠙⣿⣷⡄⠀⢠⣶⣤⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣿⣿⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀\n \
 \033[0;91m⠀⠀⠀⠀⠀⠀⠀⠹⣿⣿⣿⡿⠃⠀⠰⢤⣀⠀⠈⠻⣿⣷⣄⠀⢻⣿⠿⠃⠀⢸⣿⠻⢿⣿⣶⣤⣀⣀⢀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣾⣿⣿⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀\n \
 \033[0;92m⠀⠀⠀⠀⠀⠀⠀⠀⢹⣿⣿⡇⠀⠀⠀⠀⣉⣷⣦⠀⠈⠻⢿⣿⣿⡿⠀⠀⠀⢸⣿⣆⠀⠈⠉⠛⠻⠿⠿⠿⣶⣤⣀⣀⣀⣀⣀⣠⣶⣿⣿⡿⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n \
 \033[0;93m⠀⠀⠀⠀⠀⠀⠀⠀⢸⣿⣿⡇⠀⠀⠀⠀⠈⠉⢻⡇⠀⠀⠀⠈⠉⠀⠀⠀⠀⠀⢿⣿⣦⣤⠀⠀⠀⠀⠀⠀⠈⠛⠻⠿⠿⠟⢛⣿⣿⣿⠏⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n \
 \033[0;94m⠀⠀⠀⠀⠀⠀⠀⠀⠘⣿⣿⣿⣄⠀⠀⠤⠤⠴⠟⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⣿⣿⣆⣀⣀⣠⣤⠀⠀⠀⢀⡀⠀⣀⣼⣿⡿⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n \
 \033[0;95m⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⣿⣿⣿⣷⣄⣀⣀⣀⣀⣀⣠⣴⣆⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⣿⠿⢿⣿⣿⣿⣶⣶⣶⣿⣿⠿⣿⣿⠟⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n \
 \033[0;96m⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠻⠿⣿⣿⣿⣿⣿⣿⣿⣏⣻⣿⣷⣄⠀⠀⠀⠀⠀⠀⠀⢸⣿⠀⠀⢻⣠⣾⣿⣿⣿⠟⢁⣾⣿⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n \
 \033[0;97m⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣴⣿⣿⣿⣿⣿⣿⣿⣿⣿⣶⣄⣀⠀⠀⠀⠀⠀⢿⣧⣤⣶⣿⣿⣿⡿⢋⣴⣿⡿⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n \
 \033[0;96m⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣠⣴⣿⣿⡿⠿⠛⠋⠉⠉⠀⠀⠀⢉⣿⣿⣿⣷⣶⣶⣤⣤⣤⣯⣿⣿⣿⣿⣿⣷⣿⣿⠟⠀⠀⠀⠀⠀⣀⣤⣶⣶⣶⣶⣦⣄⡀⠀⠀⠀⠀⠀\n \
 \033[0;95m⠀⠀⠀⠀⠀⠀⣠⣶⣿⣿⣿⣿⣿⣋⡁⠀⠀⠀⠀⠀⠀⢀⣠⣴⣿⡿⠋⠀⣿⣿⠉⠉⠉⢿⣿⡉⠉⠈⢿⣿⡝⠿⣿⣧⣤⣤⡀⣠⣾⣿⣿⡿⠿⠿⠿⢿⣿⣿⣷⡀⠀⠀⠀\n \
 \033[0;94m⠀⠀⠀⠀⠀⣾⣿⣿⠟⠛⠉⠙⠛⠻⠿⣷⣤⡀⢀⣤⣶⠿⠛⠋⠁⠀⠀⠀⣿⣿⠀⠀⠀⠀⢻⣷⣶⣶⡾⠿⠿⠂⢘⣿⢿⣿⣿⣿⣿⡿⠁⠀⠀⠀⠀⠀⠙⣿⣿⣿⣷⣄⠀\n \
 \033[0;93m⠀⠀⠀⣠⣾⣿⡿⠟⠓⠂⠀⠀⠀⠀⠀⠈⢻⣿⣿⣿⠃⠀⠀⠀⠀⠀⠀⠀⣿⡟⠀⢠⣶⡿⠿⠿⣿⣄⠀⠀⠀⠀⣼⣿⠀⢻⣿⣿⡿⠁⠀⠀⠀⠀⠀⠀⠀⠸⣿⣿⣿⣿⡇\n \
 \033[0;92m⠀⢠⣾⣿⡟⠉⠀⣠⠀⠀⠀⠀⠀⠀⠀⠻⣦⣽⣿⡟⠀⠀⠀⠀⠀⠀⠀⣴⡿⠀⣴⣿⡟⠀⠀⠀⠈⢿⣧⠀⠀⠀⢿⣿⣆⠀⢿⣿⣇⠀⠀⠀⠀⠀⠀⠀⠀⢀⡿⢸⣿⣿⡇\n \
 \033[0;91m⢠⣿⣿⡟⠀⢠⣾⡇⠀⠀⣰⡆⠀⠀⠀⠀⠘⣿⣿⣿⣦⣤⣀⣀⣀⣤⣾⠟⠁⠀⣿⣿⡄⠀⠀⠀⠀⢀⣿⠀⠀⠀⠘⣿⣿⣦⣾⣿⡿⠀⠀⠀⠀⠀⠀⠀⠀⣸⠃⢸⣿⣿⡇\n \
 \033[0;90m⢸⣿⣿⡇⠀⣾⡿⠃⢠⣾⣿⠇⠀⠀⠀⠀⠀⠸⣿⡏⠛⠻⠿⠟⠛⠛⠁⠀⠀⠀⠘⣿⣿⣄⢀⣀⣴⣿⡟⠀⠀⠀⠀⠈⠛⢻⣿⡿⠃⠀⠀⠀⠀⠀⠀⠀⢰⡇⢠⣾⣿⣿⠃\n \
 \033[0;91m⢸⣿⣿⡇⠀⠀⠀⠀⠸⠿⠃⠀⠀⠀⣠⣤⠀⠀⣿⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠛⠿⢿⡿⠿⠋⠀⠀⠀⠀⠀⠀⠀⣼⣿⠄⠀⠀⠀⠀⠀⠀⠀⢠⡟⣠⣾⣿⣿⠃⠀\n \
 \033[0;92m⠸⣿⣿⣧⡀⠀⠀⠀⠀⠀⠀⠀⠀⣰⣿⣧⣤⣾⣿⣥⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⣿⣿⠀⠀⠀⠀⠀⠀⠀⢠⡟⣺⣿⣿⡿⠃⠀⠀\n \
 \033[0;93m⠀⠹⣿⣿⣷⣄⠀⠀⠀⠀⠀⠀⢰⡿⢻⣿⣿⠟⠙⠻⣿⣿⣦⣄⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣴⣿⣿⣏⠀⠀⠀⠀⠀⠀⣠⡟⣼⣿⣿⡟⠁⠀⠀⠀\n \
 \033[0;94m⠀⠀⠘⢿⣿⣿⣷⣦⣤⣀⣀⣀⣤⣴⣿⠟⠁⠀⠀⠀⣠⣿⢻⣿⣿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣤⣾⣿⣿⣿⣿⣷⣤⣄⣠⣤⣾⣯⣼⣿⣿⣿⠃⠀⠀⠀⠀\n \
 \033[0;95m⠀⠀⠀⠀⠈⠙⠛⠻⢿⣿⣿⠿⡿⠋⠁⠀⠀⠀⠀⢀⣿⠁⠀⢿⣿⣇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣤⣴⣿⣿⡿⠋⠀⠙⠿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠃⠀⠀⠀⠀⠀\n \
 \033[0;96m⠀⠀⠀⠀⠀⠀⠀⢠⣾⣿⡟⢸⡇⠀⠀⠀⠀⠀⠀⢸⡟⠀⠀⣾⣿⣿⣿⣿⣶⣶⣤⣤⣤⣶⣶⣿⣿⣿⡿⠟⠛⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠉⠉⠀⠀⠀⠀⠀⠀⠀\n \
 \033[0;97m⠀⠀⠀⠀⠀⠀⠀⣼⣿⣿⠁⣼⠁⠀⠀⠀⠀⠀⠀⠸⡇⠀⠀⣿⣿⣿⠉⠛⠛⠛⠿⠿⠟⠛⠛⠋⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n \
 \033[0;96m⠀⠀⠀⠀⠀⠀⢀⣿⣿⡇⢠⣿⠀⠀⠀⠀⠀⠀⠀⠀⠁⠀⣠⣿⣿⡏⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n \
 \033[0;95m⠀⠀⠀⠀⠀⠀⢸⣿⣿⡇⢸⡏⠀⠀⠀⠀⠀⠀⠀⠀⠀⣾⣿⣿⠟⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n \
 \033[0;94m⠀⠀⠀⠀⠀⠀⢸⣿⣿⡇⢸⣧⠀⠀⠀⠀⠀⠀⠀⠀⢀⣿⣿⠏⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n \
 \033[0;93m⠀⠀⠀⠀⠀⠀⠈⣿⣿⣿⣿⣿⣆⠀⠀⠀⠀⠀⠀⢀⣿⣿⣿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n \
 \033[0;92m⠀⠀⠀⠀⠀⠀⠀⠈⠻⢿⣿⣿⣿⣷⣤⣀⣀⣠⣴⣾⣿⣿⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n \
 \033[0;91m⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠙⠿⣿⣿⣿⣿⣿⣿⡿⠛⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n \
 \033[0;90m\n\n" \

$(OBJ_P)%.o: $(SRC_PATH)%.c
	$(FLAGS) $(INCS) -c $< -o $@

$(OBJ_P)%.o: $(BSRC_PATH)%.c
	$(FLAGS) $(INCS) -c $< -o $@

clean:
	@printf "\033[0;32m\e[1m ==> Pipex has been cleaned up successfully! \n"
	@rm -rf $(OBJ_P)

fclean: clean
	rm -f $(NAME)
	rm -f $(BONUS_NAME)

re: fclean all

.PHONY: all clean fclean re bonus